(this["webpackJsonpangos-notes"]=this["webpackJsonpangos-notes"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(27),o=n.n(c),r=(n(33),n(5)),s=n(6),l=n(10),d=n(4),u=n(7),h=n(8),j=n(3),m=n(2),b=n(9),p=(n(34),n(0)),f=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{className:"modal ".concat(this.props.isVisible?"show":"hidden"),id:"exampleModalLong",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true",children:Object(p.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(p.jsx)("div",{className:"modal-content",style:{backgroundColor:"transparent",border:"unset"},children:Object(p.jsxs)("div",{className:"modal-body",style:{textAlign:"center"},children:[Object(p.jsx)("div",{className:"spinner-border",role:"status",children:Object(p.jsx)("span",{className:"sr-only visually-hidden",children:"Loading..."})}),Object(p.jsxs)("p",{style:{color:"#282c34"},children:["{",Object(p.jsx)("code",{children:"CARGANDO"}),"}"]})]})})})})}}]),n}(i.a.Component),O=n(12),v=n.n(O),x=n(16);function y(e){return g.apply(this,arguments)}function g(){return(g=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{var a="@Angos@Security:".concat(t);e(window.localStorage.getItem(a))}catch(i){n(i)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return N.apply(this,arguments)}function N(){return(N=Object(x.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){try{var i="@Angos@Security:".concat(t);window.localStorage.setItem(i,n),e(!0)}catch(c){a(c)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return(k=Object(x.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{var a="@Angos@Security:".concat(t);window.localStorage.removeItem(a),e(!0)}catch(i){n(i)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return T.apply(this,arguments)}function T(){return(T=Object(x.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){try{window.localStorage.clear(),e(!0)}catch(n){t(n)}})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var I="ANGOS_USER_CURRENT";var C=n(22),A=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).name="NetworkError",a.code="ENETWORK",a}return n}(Object(C.a)(Error)),L=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).name="ServerError",a.code="ESERVER",a}return n}(Object(C.a)(Error)),U=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e,a){var i;return Object(s.a)(this,n),(i=t.call(this,a)).name="InternalError",i.code=e,i}return n}(Object(C.a)(Error));function E(e){try{if(e){console.error(e);var t=e.message;return t&&(t.toLowerCase().includes("failed to fetch")||t.toLowerCase().includes("network")||t.toLowerCase().includes("http")||t.toLowerCase().includes("timeout"))?new A("No se pudo establecer la conexi\xf3n con el servidor. Verifique su conexi\xf3n a internet e intente nuevamente."):new L("En este momento no se puede procesar la solicitud. Intente m\xe1s tarde.")}return new Error("Error desconocido")}catch(n){return console.error(n),new Error("Error desconocido.")}}function D(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15e3;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),n)}))])}function F(e,t){return M.apply(this,arguments)}function M(){return(M=Object(x.a)(v.a.mark((function e(t,n){var a,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:15e3,e.abrupt("return",new Promise((function(e,i){return D(t,n,a).then((function(t){switch(t.status){case 200:case 201:e(t.json());break;case 204:e(null);break;case 400:i(new U(400,"Error al intentar realizar la operaci\xf3n; Petici\xf3n invalida."));break;case 401:new Error,i(new U(401,"Error al intentar realizar la operaci\xf3n; En este momento no esta autorizado para realizar la solicitud."));break;case 500:i(new U(500,"Error al intentar realizar la operaci\xf3n; Se ha generado un error interno."));break;default:i(new U(500,"Error al intentar realizar la operaci\xf3n; Se ha generado un error desconocido."))}})).catch((function(e){console.log(e),i(E(e))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R=window.location.protocol?"".concat(window.location.protocol,"//"):"http://",V=window.location.hostname,P=window.location.port,z=void 0!==window.location.port&&null!==window.location.port&&""!==window.location.port?"".concat(R).concat(V,":").concat(P):"".concat(R).concat(V),B="8081"!==window.location.port&&-1!==V.indexOf("localhost")?"".concat(R).concat(V,":15040"):z,q="8081"!==window.location.port&&-1!==V.indexOf("localhost")?"".concat(R).concat(V,":10000"):z,J="/web/security/sign-in",G="/web/notes/home",H="/web/notes/add",W="/web/notes/edit",_=function(){return"".concat(B,"/api/v1/notes/")},K=function(e){return"".concat(B,"/api/v1/notes/").concat(e)},X=function(e){return"".concat(B,"/api/v1/notes/").concat(e)},Y=function(e){return"".concat(B,"/api/v1/notes/").concat(e)},$=function(e){return"".concat(B,"/api/v1/notes/?accountId=").concat(e)},Q=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.cargarInformacionInicial()},a.state={loadingActivityIndicator:!0,loading:!1,currentUser:null},a.notificationRef=i.a.createRef(),a.addNotification=a.addNotification.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"cargarInformacionInicial",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;y(I).then((function(n){var a=n?JSON.parse(n):null;e.setState({currentUser:a}),t&&t(a)})).catch((function(n){t&&t(n),e.addNotification({typeToast:"error",text:n.toString()})}))}},{key:"addNotification",value:function(e){this.notificationRef&&this.notificationRef.current&&this.notificationRef.current.addItem(e)}},{key:"armarFormularioDeJson",value:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new FormData(e);return Array.from(n.keys()).reduce((function(n,a){var i="";return i="checkbox"===e.elements[a].type?!(!e.elements[a].value||"on"!==e.elements[a].value):e.elements[a].value,t[a]=i,n[a]=i,n}),{}),JSON.stringify(t)}(e,t)}},{key:"redirectTo",value:function(e){!function(e){e&&window.setTimeout((function(){window.location.href="/web/security/apps"}),1e3)}(e)}},{key:"redirectToApp",value:function(){window.location.pathname!==G&&(window.location.href=G)}},{key:"delay",value:function(e){return e=e||2e3,new Promise((function(t){setTimeout((function(){t()}),e)}))}},{key:"storeDataUser",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;w(I,e).then((function(e){n&&n(e)})).catch((function(e){t.addNotification({typeToast:"error",text:e.toString()})}))}},{key:"cleanAllAndSplash",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];S().then((function(e){!0===t&&window.location.pathname!==J&&(window.location.href=J)})).catch((function(n){e.addNotification({typeToast:"error",text:n.toString()}),!0===t&&(window.location.href=J)}))}},{key:"validarToken",value:function(e){var t=this,n=new Headers;n.set("Content-Type","application/json;charset=UTF-8");var a,i={method:"GET",headers:n};if(this.state&&this.state.currentUser&&this.state.currentUser.token){var c=this.state.currentUser.token;F((a=c,"".concat(q,"/api/v1/tokens/?token=").concat(a)),i).then((function(t){e(t)})).catch((function(n){t.addNotification({typeToast:"error",text:n.message}),e(n)}))}else this.addNotification({typeToast:"error",text:"Error al realizar la validaci\xf3n de la sesi\xf3n."}),e(null)}},{key:"setLoading",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.setState({loading:e,loadingActivityIndicator:t})}},{key:"renderLoading",value:function(){return Object(p.jsx)(f,{isVisible:this.state.loadingActivityIndicator})}}]),n}(i.a.Component),Z=(n(37),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=setInterval((function(){return a.proccessCurrentItem()}),300);a.setState({idIterval:e})},a.proccessCurrentItem=function(){if(a.state.items&&a.state.items.length>0&&null===a.state.currentItem){var e=a.state.items.pop();a.setState({currentItem:e}),a.deleteCurrentItem()}},a.state={items:[],currentItem:null,idIterval:0,idTimeout:0},a.addItem=a.addItem.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"addItem",value:function(e){this.state.items.push(e),this.setState({items:this.state.items}),null===this.state.currentItem&&this.proccessCurrentItem()}},{key:"deleteCurrentItem",value:function(){var e=Object(x.a)(v.a.mark((function e(){var t,n,a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.timeout,n=setTimeout((function(){return a.setState({currentItem:null})}),void 0===t?5e3:t),this.setState({idTimeout:n});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null!==this.state.currentItem?Object(p.jsx)("div",{id:"toast-app",className:" ".concat(this.state.currentItem.typeToast," ").concat(null!==this.state.currentItem?"show":"hidden"," "),children:this.state.currentItem.text}):null}}]),n}(i.a.Component)),ee=(n(38),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("footer",{className:"footer mt-auto py-3 text-center text-small",children:Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("p",{className:"mt-5 mb-3 text-muted",children:["\xa9 ",(new Date).getFullYear()," Angos"]}),Object(p.jsxs)("ul",{className:"list-inline",children:[Object(p.jsx)("li",{className:"list-inline-item",children:Object(p.jsx)("a",{href:"#",children:"T\xe9rm & condiciones"})}),Object(p.jsx)("li",{className:"list-inline-item",children:Object(p.jsx)("a",{href:"#",children:"Soporte"})})]})]})})}}]),n}(i.a.Component)),te=n(17),ne=(n(39),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){y(I).then((function(e){e?a.setState({currentUser:JSON.parse(e)}):a.setState({currentUser:null})})).catch((function(e){a.addNotification({typeToast:"error",text:e.toString()})}))},a.handleOnClick=function(e){(e=(e=e||window.event).target||e.srcElement)&&e.id&&a.state.isMenuVisible!==e.id?a.setState({isMenuVisible:e.id}):a.setState({isMenuVisible:""})},a.handleOnClickMainMenu=function(e){(e=(e=e||window.event).target||e.srcElement)&&e.id&&a.state.isMainMenuVisible!==e.id?a.setState({isMainMenuVisible:e.id}):a.setState({isMainMenuVisible:""})},a.addNotification=function(e){a.notificationRef&&a.notificationRef.current&&a.notificationRef.current.addItem(e)},a.handleOnClickLogOut=function(e){(function(e){return k.apply(this,arguments)})(I).then((function(e){a.setState({currentUser:null}),window.location.href="/"})).catch((function(e){a.addNotification({typeToast:"error",text:e.toString()})}))},a.state={isMenuVisible:"",loading:!1,currentUser:null},a.notificationRef=i.a.createRef(),a.addNotification=a.addNotification.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("header",{className:"p-3 mb-3 border-bottom",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsxs)("div",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start",children:[Object(p.jsx)("a",{href:"#",className:"d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none",children:"ANGOX9"}),Object(p.jsx)("ul",{className:"nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0",children:Object(p.jsx)("li",{children:Object(p.jsx)("a",{href:"#",className:"nav-link px-2 link-secondary",children:"Home"})})}),Object(p.jsxs)("div",{className:"dropdown text-end",children:[Object(p.jsx)("a",{href:"#",className:"d-block link-dark text-decoration-none dropdown-toggle",id:"dropdownUser1",onClick:this.handleOnClick,"data-bs-toggle":"dropdown","aria-expanded":"false",children:null!==this.state.currentUser?this.state.currentUser.username:""}),Object(p.jsxs)("ul",{className:"dropdown-menu text-small ".concat("dropdownUser1"===this.state.isMenuVisible?"show":"hidden"),"aria-labelledby":"dropdownUser1",children:[Object(p.jsx)("li",{children:Object(p.jsx)("a",{className:"dropdown-item",href:"#",children:"Perfil"})}),Object(p.jsx)("li",{children:Object(p.jsx)("hr",{className:"dropdown-divider"})}),Object(p.jsx)("li",{children:Object(p.jsx)("a",{className:"dropdown-item",href:"#",onClick:this.handleOnClickLogOut,children:"Cerrar sesi\xf3n"})})]})]})]})})})}}]),n}(i.a.Component));function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e6,n=Math.random()*(t-e)+e;return n.toString()}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e?e instanceof Date||(-1!==e.indexOf(".")&&(e=e.split(".")[0]),-1!==e.indexOf(" ")&&(e=e.split(" ")[0]),e=new Date(e)):e=new Date;var t=new Date((new Date).toUTCString().substr(0,25)),n=Math.floor((t-e)/1e3),a=n/31536e3;return a>1?Math.floor(a)+" years":(a=n/2592e3)>1?Math.floor(a)+" months":(a=n/86400)>1?Math.floor(a)+" days":(a=n/3600)>1?Math.floor(a)+" hours":(a=n/60)>1?Math.floor(a)+" minutes":Math.floor(n)<=10?"just now":Math.floor(n)+" seconds"}n(40);var ce=function(e){var t=e.state,n=e.notificationRef,a=e.onDeleteNote,i=e.onFavoriteNote,c=e.onShowType,o=e.onChangeToTypeNote,s=e.onFilterToType,l=e.onSelectedItem;return Object(p.jsxs)("div",{children:[Object(p.jsx)(ne,Object(r.a)({},e)),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(Z,{ref:n}),Object(p.jsx)(f,{isVisible:t.loadingActivityIndicator}),Object(p.jsxs)("div",{className:"page-content note-has-grid",children:[Object(p.jsxs)("ul",{className:"nav nav-pills p-3 bg-white mb-3 rounded-pill align-items-center",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"#",className:"nav-link rounded-pill note-link d-flex align-items-center px-2 px-md-3 mr-0 mr-md-2 "+("all"===t.filterSelected?"active":null),id:"all-category",onClick:function(e){return s(e,"all")},children:Object(p.jsx)("span",{className:"",children:"Todo"})})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"#",className:"nav-link rounded-pill note-link d-flex align-items-center px-2 px-md-3 mr-0 mr-md-2 "+("business"===t.filterSelected?"active":null),id:"note-business",onClick:function(e){return s(e,"business")},children:Object(p.jsx)("span",{className:"",children:"Negocio"})})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"#",className:"nav-link rounded-pill note-link d-flex align-items-center px-2 px-md-3 mr-0 mr-md-2 "+("social"===t.filterSelected?"active":null),id:"note-social",onClick:function(e){return s(e,"social")},children:Object(p.jsx)("span",{className:"",children:"Social"})})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{href:"#",className:"nav-link rounded-pill note-link d-flex align-items-center px-2 px-md-3 mr-0 mr-md-2 "+("important"===t.filterSelected?"active":null),id:"note-important",onClick:function(e){return s(e,"important")},children:Object(p.jsx)("span",{className:"",children:"Importante"})})}),Object(p.jsx)("li",{className:"nav-item ml-auto",children:Object(p.jsx)(te.a,{to:H,className:"nav-link btn-primary rounded-pill d-flex align-items-center px-3",children:Object(p.jsx)("i",{className:"material-icons",children:"add"})})})]}),Object(p.jsx)("div",{className:"tab-content bg-transparent",children:Object(p.jsx)("div",{id:"note-full-container",className:"note-has-grid row",children:("all"===t.filterSelected?t.items:t.filteredItems).map((function(e,n){return Object(p.jsx)("div",{className:"col-md-4 col-sm-12 single-note-item",children:Object(p.jsxs)("div",{className:"card card-body",children:[Object(p.jsx)("span",{className:"social"===e.category?"side-stick-social":"business"===e.category?"side-stick-business":"important"===e.category?"side-stick-important":"side-stick-none"}),Object(p.jsx)("h5",{className:"note-title text-truncate w-100 mb-0",onClick:function(t){return l(t,e)},"data-noteheading":e.title,children:e.title}),Object(p.jsxs)("p",{className:"note-date font-12 text-muted",children:["Hace ",ie(e.updateAt)]}),Object(p.jsx)("div",{className:"note-content content",id:"content",onClick:function(t){return l(t,e)},children:Object(p.jsx)("p",{className:"note-inner-content text-muted","data-notecontent":e.content,children:e.content})}),Object(p.jsxs)("div",{className:"d-flex align-items-center",style:{marginTop:"10px"},children:[Object(p.jsx)("span",{className:"mr-1",style:{marginRight:"10px"},children:Object(p.jsx)("span",{className:"material-icons",style:{color:e.favorite?"gold":""},onClick:function(t){return i(t,e)},children:"star"})}),Object(p.jsx)("span",{className:"mr-1",style:{marginRight:"10px"},children:Object(p.jsx)("i",{className:"material-icons",onClick:function(t){return a(t,e)},children:"delete"})}),t.itemSelected&&e.id===t.itemSelected.id&&Object(p.jsx)("span",{className:"mr-1",style:{marginRight:"10px"},children:Object(p.jsx)(te.a,{to:"".concat(W,"?id=").concat(t.itemSelected.id),children:Object(p.jsx)("i",{className:"material-icons",children:"edit"})})}),Object(p.jsx)("div",{className:"ml-auto",children:Object(p.jsxs)("div",{className:"dropdown",children:[Object(p.jsx)("span",{className:"more-options text-dark",id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-expanded":"false",onClick:function(e){return c(e)},children:Object(p.jsx)("i",{className:"material-icons",children:"more_vert"})}),Object(p.jsxs)("ul",{className:"dropdown-menu dropdown-custom","aria-labelledby":"dropdownMenu2",children:[Object(p.jsx)("li",{children:Object(p.jsx)("button",{className:"dropdown-item dropdown-item-custom",type:"button",onClick:function(t){return o(t,"business",e)},children:"Business"})}),Object(p.jsx)("li",{children:Object(p.jsx)("button",{className:"dropdown-item dropdown-item-custom",type:"button",onClick:function(t){return o(t,"social",e)},children:"Social"})}),Object(p.jsx)("li",{children:Object(p.jsx)("button",{className:"dropdown-item dropdown-item-custom",type:"button",onClick:function(t){return o(t,"important",e)},children:"Important"})})]})]})})]})]})},ae())}))})})]})]}),Object(p.jsx)(ee,Object(r.a)({},e))]})},oe=new Headers;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;oe.set("Content-Type","application/json;charset=UTF-8"),oe.set("Authorization","Bearer "+a),oe.set("accountId",n);var i=t,c={method:"PUT",headers:oe,body:i},o=K(e);return F(o,c)}var se=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a,i;return Object(s.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.onLoadData()},i.state=Object(r.a)(Object(r.a)({},Object(j.a)((a=Object(d.a)(i),Object(m.a)(n.prototype)),"state",a)),{},{items:[],filteredItems:[],filterSelected:"all",itemSelected:null}),i.onDeleteNote=i.onDeleteNote.bind(Object(d.a)(i)),i.onFilterToType=i.onFilterToType.bind(Object(d.a)(i)),i.onFavoriteNote=i.onFavoriteNote.bind(Object(d.a)(i)),i.onShowType=i.onShowType.bind(Object(d.a)(i)),i.onChangeToTypeNote=i.onChangeToTypeNote.bind(Object(d.a)(i)),i.onSelectedItem=i.onSelectedItem.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){}},{key:"onLoadData",value:function(){var e=this;this.setLoading(!0,!0),Object(j.a)(Object(m.a)(n.prototype),"cargarInformacionInicial",this).call(this,(function(t){t&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;oe.set("Content-Type","application/json;charset=UTF-8"),oe.set("Authorization",n),oe.set("accountId",t);var a={method:"GET",headers:oe};return F($(e),a)}(t.id,t.id,t.token).then((function(t){t?e.setState({items:t}):e.setState({items:[]}),e.setLoading(!1,!1)})).catch((function(t){Object(j.a)(Object(m.a)(n.prototype),"addNotification",e).call(e,{typeToast:"error",text:t.message}),e.setLoading(!1,!1),t.code&&401===t.code&&Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",e).call(e)}))}))}},{key:"onFilterToType",value:function(e,t){if(t){var n=[];(n="all"===t?this.state.items:this.state.items.filter((function(e){return e.category===t})))&&n.length>0?this.setState({filteredItems:n,filterSelected:t}):this.setState({filteredItems:[],filterSelected:t})}}},{key:"onFavoriteNote",value:function(e,t){var a=this;t&&(this.setLoading(!0,!0),t.favorite=!t.favorite||!t.favorite,re(t.id,JSON.stringify(t),this.state.currentUser.id,this.state.currentUser.token).then((function(e){var n=a.state.items.findIndex((function(e){return e.id===t.id}));-1!==n&&(a.state.items[n]=t,a.setState({items:a.state.items})),a.setLoading(!1,!1)})).catch((function(e){Object(j.a)(Object(m.a)(n.prototype),"addNotification",a).call(a,{typeToast:"error",text:e.message}),a.setLoading(!1,!1),e.code&&401===e.code&&Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",a).call(a)})))}},{key:"onDeleteNote",value:function(e,t){var a=this;t&&(this.setLoading(!0,!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;oe.set("Content-Type","application/json;charset=UTF-8"),oe.set("Authorization","Bearer "+n),oe.set("accountId",t);var a={method:"DELETE",headers:oe};return F(X(e),a)}(t.id,this.state.currentUser.id,this.state.currentUser.token).then((function(e){var n=a.state.items.findIndex((function(e){return e.id===t.id}));-1!==n&&(a.state.items.splice(n,1),a.setState({items:a.state.items})),a.setLoading(!1,!1)})).catch((function(e){Object(j.a)(Object(m.a)(n.prototype),"addNotification",a).call(a,{typeToast:"error",text:e.message}),a.setLoading(!1,!1),e.code&&401===e.code&&Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",a).call(a)})))}},{key:"onChangeToTypeNote",value:function(e,t,a){var i=this;a&&(this.setLoading(!0,!0),a.category=t,re(a.id,JSON.stringify(a),this.state.currentUser.id,this.state.currentUser.token).then((function(e){var n=i.state.items.findIndex((function(e){return e.id===a.id}));-1!==n&&(i.state.items[n].category=t,i.setState({items:i.state.items})),i.setLoading(!1,!1)})).catch((function(e){Object(j.a)(Object(m.a)(n.prototype),"addNotification",i).call(i,{typeToast:"error",text:e.message}),i.setLoading(!1,!1),e.code&&401===e.code&&Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",i).call(i)})))}},{key:"onShowType",value:function(e){e&&e.currentTarget&&e.currentTarget.parentElement.children[1].classList.toggle("show")}},{key:"onSelectedItem",value:function(e,t){this.state.itemSelected&&this.state.itemSelected.id===t.id?this.setState({itemSelected:null}):this.setState({itemSelected:t})}},{key:"render",value:function(){return Object(p.jsx)(ce,Object(r.a)(Object(r.a)({},this.props),{},{state:this.state,notificationRef:this.notificationRef,onDeleteNote:this.onDeleteNote,onFilterToType:this.onFilterToType,onFavoriteNote:this.onFavoriteNote,onShowType:this.onShowType,onChangeToTypeNote:this.onChangeToTypeNote,onSelectedItem:this.onSelectedItem}))}}]),n}(Q),le=(n(49),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.title,a=void 0===n?"Iniciar":n,i=e.type,c=void 0===i?"submit":i,o=e.styles,r=void 0===o?{}:o;return Object(p.jsxs)("button",{disabled:t,className:"btn btn-primary btn-lg btn-block",style:r,type:c,children:[t&&Object(p.jsx)("div",{className:"text-center",children:Object(p.jsx)("div",{className:"spinner-border",role:"status",children:Object(p.jsx)("span",{className:"sr-only visually-hidden",children:"Loading..."})})}),!t&&a]})}}]),n}(i.a.Component)),de=(n(50),function(e){var t=e.state,n=e.handleOnSubmit,a=e.notificationRef;return Object(p.jsxs)("div",{style:{marginTop:"80px"},children:[Object(p.jsx)(ne,Object(r.a)({},e)),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(Z,{ref:a}),Object(p.jsx)(f,{isVisible:t.loadingActivityIndicator}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 order-md-1 text-center",children:[Object(p.jsx)("h4",{className:"h3 mb-3 fw-normal",children:"Crear Nota"}),Object(p.jsxs)("form",{className:"form-signin needs-validation",onSubmit:n,noValidate:!0,children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 mb-3 form-floating",children:[Object(p.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",placeholder:"",defaultValue:"",autoComplete:"current-password",required:!0}),Object(p.jsx)("label",{htmlFor:"title",children:"title"}),Object(p.jsx)("div",{className:"invalid-feedback",children:"title is required."})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(p.jsx)("label",{htmlFor:"content",style:{float:"left"},children:"content"}),Object(p.jsx)("textarea",{className:"form-control",id:"content",name:"content",placeholder:"",defaultValue:"",required:!0,rows:"8"}),Object(p.jsx)("div",{className:"invalid-feedback",children:"content is required."})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(p.jsx)("label",{htmlFor:"category",style:{float:"left"},children:"category"}),Object(p.jsxs)("select",{className:"form-select d-block w-100",id:"category",name:"category",defaultValue:"important","aria-label":"Default select example",required:!0,children:[Object(p.jsx)("option",{value:"",disabled:!0,children:"Choose..."}),Object(p.jsx)("option",{value:"business",children:"business"}),Object(p.jsx)("option",{value:"social",children:"social"}),Object(p.jsx)("option",{value:"important",children:"important"})]}),Object(p.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid category."})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(te.a,{to:G,className:"btn btn-default",style:{float:"right"},children:"Cancelar"})})}),Object(p.jsx)("hr",{className:"mb-4"}),Object(p.jsx)(le,{loading:t.loading,title:"Crear",type:"submit"})]})]})})]}),Object(p.jsx)(ee,Object(r.a)({},e))]})}),ue=new Headers;var he=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a,i;return Object(s.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.onLoadData()},i.state=Object(r.a)({},Object(j.a)((a=Object(d.a)(i),Object(m.a)(n.prototype)),"state",a)),i.handleOnSubmit=i.handleOnSubmit.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){}},{key:"onLoadData",value:function(){Object(j.a)(Object(m.a)(n.prototype),"cargarInformacionInicial",this).call(this,(function(e){}))}},{key:"handleOnSubmit",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var a=e.target;!0===a.checkValidity()&&this.state.currentUser&&this.state.currentUser.id?(this.setLoading(!0,!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ue.set("Content-Type","application/json;charset=UTF-8"),ue.set("Authorization","Bearer "+n),ue.set("accountId",t);var a={method:"POST",headers:ue,body:e};return F(_(),a)}(Object(j.a)(Object(m.a)(n.prototype),"armarFormularioDeJson",this).call(this,a,{id:"",accountId:this.state.currentUser.id,title:"",description:"",favorite:!1,category:""}),this.state.currentUser.id,this.state.currentUser.token).then((function(e){t.setLoading(!1,!1),a.reset(),Object(j.a)(Object(m.a)(n.prototype),"addNotification",t).call(t,{typeToast:"info",text:"Exitoso."})})).catch((function(e){a.classList.add("was-validated"),Object(j.a)(Object(m.a)(n.prototype),"addNotification",t).call(t,{typeToast:"error",text:e.message}),t.setLoading(!1,!1),e.code&&401===e.code&&Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",t).call(t)}))):(Object(j.a)(Object(m.a)(n.prototype),"addNotification",this).call(this,{typeToast:"warn",text:"No existe la informaci\xf3n del usuario."}),Object(j.a)(Object(m.a)(n.prototype),"redirectToApp",this).call(this))}},{key:"render",value:function(){return Object(p.jsx)(de,Object(r.a)(Object(r.a)({},this.props),{},{state:this.state,notificationRef:this.notificationRef,handleOnSubmit:this.handleOnSubmit}))}}]),n}(Q),je=(n(51),function(e){var t=e.state,n=e.handleOnSubmit,a=e.notificationRef;return null===t.item||!0===t.loadingActivityIndicator?Object(p.jsx)(f,{isVisible:t.loadingActivityIndicator}):Object(p.jsxs)("div",{style:{marginTop:"80px"},children:[Object(p.jsx)(ne,Object(r.a)({},e)),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)(Z,{ref:a}),Object(p.jsx)(f,{isVisible:t.loadingActivityIndicator}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 order-md-1 text-center",children:[Object(p.jsx)("h4",{className:"h3 fw-normal",children:"Editar Nota"}),Object(p.jsxs)("form",{className:"form-signin needs-validation",onSubmit:n,noValidate:!0,children:[Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 mb-3",children:[Object(p.jsx)("label",{htmlFor:"title",style:{float:"left"},children:"title"}),Object(p.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",placeholder:"",defaultValue:t.item.title,autoComplete:"current-password",required:!0}),Object(p.jsx)("div",{className:"invalid-feedback",children:"title is required."})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 mb-2",children:[Object(p.jsx)("textarea",{className:"form-control",id:"content",name:"content",placeholder:"",defaultValue:t.item.content,required:!0,rows:"8"}),Object(p.jsx)("div",{className:"invalid-feedback",children:"content is required."})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsxs)("div",{className:"col-md-12 mb-2",children:[Object(p.jsx)("label",{htmlFor:"category",style:{float:"left"},children:"category"}),Object(p.jsxs)("select",{className:"form-select d-block w-100",id:"category",name:"category",defaultValue:t.item.category,"aria-label":"Default select example",required:!0,children:[Object(p.jsx)("option",{value:"",disabled:!0,children:"Choose..."}),Object(p.jsx)("option",{value:"business",children:"business"}),Object(p.jsx)("option",{value:"social",children:"social"}),Object(p.jsx)("option",{value:"important",children:"important"})]}),Object(p.jsx)("div",{className:"invalid-feedback",children:"Please provide a valid category."})]})}),Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col-md-12",children:Object(p.jsx)(te.a,{to:G,className:"btn btn-default",style:{float:"right"},children:"Cancelar"})})}),Object(p.jsx)("hr",{className:"mb-4"}),Object(p.jsx)(le,{loading:t.loading,title:"Actualizar",type:"submit"})]})]})})]}),Object(p.jsx)(ee,Object(r.a)({},e))]})}),me=new Headers;var be=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a,i;return Object(s.a)(this,n),(i=t.call(this,e)).componentDidMount=function(){i.onLoadData()},i.getIdNote=function(){return new URLSearchParams(window.location.search).get("id")},i.state=Object(r.a)(Object(r.a)({},Object(j.a)((a=Object(d.a)(i),Object(m.a)(n.prototype)),"state",a)),{},{item:null}),i.handleOnSubmit=i.handleOnSubmit.bind(Object(d.a)(i)),i.findNoteById=i.findNoteById.bind(Object(d.a)(i)),i}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){}},{key:"onLoadData",value:function(){var e=this;this.setLoading(!0,!0),Object(j.a)(Object(m.a)(n.prototype),"cargarInformacionInicial",this).call(this,(function(t){e.setLoading(!1,!1),t?e.findNoteById(t):(Object(j.a)(Object(m.a)(n.prototype),"addNotification",e).call(e,{typeToast:"error",text:'"Error al intentar realizar la operaci\xf3n; No existe informaci\xf3n del usuario.'}),Object(j.a)(Object(m.a)(n.prototype),"redirectToApp",e).call(e))}))}},{key:"findNoteById",value:function(e){var t=this,a=this.getIdNote();a?(this.setLoading(!0,!0),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;me.set("Content-Type","application/json;charset=UTF-8"),me.set("Authorization","Bearer "+n),me.set("accountId",t);var a={method:"GET",headers:me};return F(Y(e),a)}(a,e.id,e.token).then((function(e){t.setLoading(!1,!1),e?t.setState({item:e}):(t.setState({item:null}),Object(j.a)(Object(m.a)(n.prototype),"addNotification",t).call(t,{typeToast:"error",text:'"Error al intentar realizar la operaci\xf3n; Petici\xf3n invalida.'}))})).catch((function(e){Object(j.a)(Object(m.a)(n.prototype),"addNotification",t).call(t,{typeToast:"error",text:e.message}),t.setLoading(!1,!1),e.code&&401===e.code&&Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",t).call(t)}))):(Object(j.a)(Object(m.a)(n.prototype),"addNotification",this).call(this,{typeToast:"error",text:'"Error al intentar realizar la operaci\xf3n; No existe informaci\xf3n de la nota.'}),Object(j.a)(Object(m.a)(n.prototype),"redirectToApp",this).call(this))}},{key:"handleOnSubmit",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var a=e.target;if(!0===a.checkValidity()&&this.state.item&&this.state.item.id&&this.state.currentUser&&this.state.currentUser.id){this.setLoading(!0,!0);var i=Object(j.a)(Object(m.a)(n.prototype),"armarFormularioDeJson",this).call(this,a,{id:this.state.item.id,accountId:this.state.currentUser.id,title:"",description:"",favorite:!1,category:""});(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;me.set("Content-Type","application/json;charset=UTF-8"),me.set("Authorization","Bearer "+a),me.set("accountId",n);var i={method:"PUT",headers:me,body:t};return F(K(e),i)})(this.state.item.id,i,this.state.currentUser.id,this.state.currentUser.token).then((function(e){t.setState({item:e}),t.setLoading(!1,!1),a.reset(),Object(j.a)(Object(m.a)(n.prototype),"addNotification",t).call(t,{typeToast:"info",text:"Exitoso."})})).catch((function(e){a.classList.add("was-validated"),Object(j.a)(Object(m.a)(n.prototype),"addNotification",t).call(t,{typeToast:"error",text:e.message}),t.setLoading(!1,!1),e.code&&401===e.code&&Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",t).call(t)}))}}},{key:"render",value:function(){return Object(p.jsx)(je,Object(r.a)(Object(r.a)({},this.props),{},{state:this.state,notificationRef:this.notificationRef,handleOnSubmit:this.handleOnSubmit}))}}]),n}(Q),pe=n(13);var fe=Object(pe.a)(),Oe=[{name:"home",component:se,path:G},{name:"add",component:he,path:H},{name:"edit",component:be,path:W}],ve=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(e){var a,i,c;return Object(s.a)(this,n),(c=t.call(this,e)).componentDidMount=function(){c.setLoading(!0,!0),Object(j.a)((a=Object(d.a)(c),Object(m.a)(n.prototype)),"cargarInformacionInicial",a).call(a,(function(e){return c.procesarInformacion(e)}))},c.state=Object(r.a)({},Object(j.a)((i=Object(d.a)(c),Object(m.a)(n.prototype)),"state",i)),c.procesarInformacion=c.procesarInformacion.bind(Object(d.a)(c)),c}return Object(l.a)(n,[{key:"procesarInformacion",value:function(e){if(this.setLoading(!1,!1),e){var t=Oe.filter((function(e){return e.path===window.location.pathname}));if(t&&t.length>0)return void(window.location.pathname!==G&&window.location.pathname!==H&&window.location.pathname!==W&&Object(j.a)(Object(m.a)(n.prototype),"redirectToApp",this).call(this))}!function(){if("caches"in window)try{window.caches.keys().then((function(e){e.forEach((function(e){window.caches.delete(e)}))}))}catch(e){console.error(e)}if("parent"in window)try{window.parent.caches.delete("call")}catch(e){console.error(e)}}(),window.location.pathname===G?Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",this).call(this,!0):window.location.pathname===J?Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",this).call(this,!1):Object(j.a)(Object(m.a)(n.prototype),"cleanAllAndSplash",this).call(this,!0)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(f,{isVisible:this.state.loadingActivityIndicator}),!1===this.state.loadingActivityIndicator&&Object(p.jsx)(b.b,{history:fe,children:Object(p.jsx)(b.c,{children:Oe&&Oe.map((function(t,n){return Object(p.jsx)(b.a,{path:t.path,component:function(){return Object(p.jsx)(t.component,Object(r.a)(Object(r.a)({},e.props),{},{history:fe}))}},ae)}))})})]})}}]),n}(Q),xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(ve,{})}),document.getElementById("root"));try{xe()}catch(ye){console.error(ye)}try{"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}catch(ye){console.error(ye)}}},[[52,1,2]]]);
//# sourceMappingURL=main.ecc6f37a.chunk.js.map